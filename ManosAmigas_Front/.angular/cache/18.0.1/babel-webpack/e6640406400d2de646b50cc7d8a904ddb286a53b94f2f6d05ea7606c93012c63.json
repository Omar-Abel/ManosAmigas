{"ast":null,"code":"import { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, authService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.router = router;\n      this.errorMessage = null;\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n    ngOnInit() {\n      if (this.authService.loggedIn) {\n        this.router.navigate(['/']);\n      }\n    }\n    get emailControl() {\n      return this.loginForm.get('email');\n    }\n    get passwordControl() {\n      return this.loginForm.get('password');\n    }\n    login() {\n      if (this.loginForm.valid) {\n        const {\n          email,\n          password\n        } = this.loginForm.value;\n        this.authService.login(email, password).subscribe({\n          next: response => {\n            if (response && response.Data.token) {\n              localStorage.setItem('currentUser', JSON.stringify({\n                email,\n                token: response.Data.token\n              }));\n              this.router.navigate(['/']);\n            } else {\n              this.errorMessage = 'Login failed';\n            }\n          },\n          error: () => {\n            this.errorMessage = 'Login failed';\n          }\n        });\n      }\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 27,\n      vars: 0,\n      consts: [[1, \"min-h-screen\", \"flex\", \"justify-center\", \"py-12\", \"px-4\", \"sm:px-6\", \"lg:px-8\", \"bg-gray-500\", \"bg-no-repeat\", \"bg-cover\", \"relative\", \"items-center\", 2, \"background-image\", \"url('https://blog.oxfamintermon.org/wp-content/uploads/2015/03/voluntariado.jpg')\"], [1, \"absolute\", \"bg-black\", \"opacity-60\", \"inset-0\", \"z-0\"], [1, \"max-w-md\", \"w-full\", \"space-y-8\", \"p-10\", \"bg-white\", \"rounded-xl\", \"z-10\"], [1, \"text-center\"], [\"src\", \"/assets/MLogo.jpg\", \"alt\", \"Logo\", 1, \"mx-auto\", \"w-24\", \"h-24\"], [1, \"max-w-md\", \"mx-auto\"], [1, \"relative\", \"z-0\", \"w-full\", \"mb-5\", \"group\"], [\"type\", \"email\", \"name\", \"floating_email\", \"id\", \"floating_email\", \"placeholder\", \" \", \"required\", \"\", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-sm\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"dark:text-white\", \"dark:border-gray-600\", \"dark:focus:border-red-500\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-red-500\", \"peer\"], [\"for\", \"floating_email\", 1, \"peer-focus:font-medium\", \"absolute\", \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:start-0\", \"rtl:peer-focus:translate-x-1/4\", \"rtl:peer-focus:left-auto\", \"peer-focus:text-red-500\", \"peer-focus:dark:text-red-500\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [1, \"relative\", \"z-0\", \"w-full\", \"mb-8\", \"group\"], [\"type\", \"password\", \"name\", \"floating_password\", \"id\", \"floating_password\", \"placeholder\", \" \", \"required\", \"\", 1, \"block\", \"py-2.5\", \"px-0\", \"w-full\", \"text-sm\", \"text-gray-900\", \"bg-transparent\", \"border-0\", \"border-b-2\", \"border-gray-300\", \"appearance-none\", \"dark:text-white\", \"dark:border-gray-600\", \"dark:focus:border-red-500\", \"focus:outline-none\", \"focus:ring-0\", \"focus:border-red-500\", \"peer\"], [\"for\", \"floating_password\", 1, \"peer-focus:font-medium\", \"absolute\", \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\", \"duration-300\", \"transform\", \"-translate-y-6\", \"scale-75\", \"top-3\", \"-z-10\", \"origin-[0]\", \"peer-focus:start-0\", \"rtl:peer-focus:translate-x-1/4\", \"rtl:peer-focus:left-auto\", \"peer-focus:text-red-500\", \"peer-focus:dark:text-red-500\", \"peer-placeholder-shown:scale-100\", \"peer-placeholder-shown:translate-y-0\", \"peer-focus:scale-75\", \"peer-focus:-translate-y-6\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-sm\"], [\"href\", \"#\", 1, \"font-medium\", \"text-indigo-500\", \"hover:text-indigo-700\"], [\"type\", \"submit\", 1, \"w-full\", \"flex\", \"justify-center\", \"bg-red-600\", \"text-gray-100\", \"p-4\", \"mt-10\", \"rounded-full\", \"tracking-wide\", \"font-semibold\", \"focus:outline-none\", \"focus:shadow-outline\", \"hover:bg-red-500\", \"shadow-lg\", \"cursor-pointer\", \"transition\", \"ease-in\", \"duration-300\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"mt-10\", \"text-center\", \"text-md\", \"text-gray-500\"], [\"href\", \"#\", 1, \"text-indigo-500\", \"hover:text-indigo-700\", \"no-underline\", \"hover:underline\", \"cursor-pointer\", \"transition\", \"ease-in\", \"duration-300\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3);\n          i0.ɵɵelement(4, \"img\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"form\", 5)(6, \"div\", 6);\n          i0.ɵɵelement(7, \"input\", 7);\n          i0.ɵɵelementStart(8, \"label\", 8);\n          i0.ɵɵtext(9, \"Email address\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 9);\n          i0.ɵɵelement(11, \"input\", 10);\n          i0.ɵɵelementStart(12, \"label\", 11);\n          i0.ɵɵtext(13, \"Password\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 12);\n          i0.ɵɵelement(15, \"div\");\n          i0.ɵɵelementStart(16, \"div\", 13)(17, \"a\", 14);\n          i0.ɵɵtext(18, \" Forgot your password? \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(19, \"button\", 15);\n          i0.ɵɵtext(20, \" Login \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"p\", 16)(22, \"span\");\n          i0.ɵɵtext(23, \"Don't have an account?\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"a\", 17);\n          i0.ɵɵtext(25, \"Register\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtext(26, \" \\u00A0\\u00A0\\u00A0\");\n          i0.ɵɵelementEnd()();\n        }\n      },\n      dependencies: [CommonModule, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgControlStatusGroup],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return LoginComponent;\n})();","map":{"version":3,"names":["Validators","ReactiveFormsModule","CommonModule","LoginComponent","constructor","fb","authService","router","errorMessage","loginForm","group","email","required","password","minLength","ngOnInit","loggedIn","navigate","emailControl","get","passwordControl","login","valid","value","subscribe","next","response","Data","token","localStorage","setItem","JSON","stringify","error","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","Router","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵNgNoValidate","NgControlStatusGroup","styles"],"sources":["C:\\Users\\Omar Lora\\Desktop\\Proyecto Final\\ManosAmigas\\ManosAmigas_Front\\src\\app\\login\\login.component.ts","C:\\Users\\Omar Lora\\Desktop\\Proyecto Final\\ManosAmigas\\ManosAmigas_Front\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm: FormGroup;\r\n  errorMessage: string | null = null;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {\r\n    this.loginForm = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.authService.loggedIn) {\r\n      this.router.navigate(['/']);\r\n    }\r\n  }\r\n\r\n  get emailControl() {\r\n    return this.loginForm.get('email');\r\n  }\r\n\r\n  get passwordControl() {\r\n    return this.loginForm.get('password');\r\n  }\r\n\r\n  login(): void {\r\n    if (this.loginForm.valid) {\r\n      const { email, password } = this.loginForm.value;\r\n      this.authService.login(email, password).subscribe({\r\n        next: (response) => {\r\n          if (response && response.Data.token) {\r\n            localStorage.setItem('currentUser', JSON.stringify({ email, token: response.Data.token }));\r\n            this.router.navigate(['/']);\r\n          } else {\r\n            this.errorMessage = 'Login failed';\r\n          }\r\n        },\r\n        error: () => {\r\n          this.errorMessage = 'Login failed';\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","<!-- component -->\r\n<div class=\"min-h-screen flex justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-500 bg-no-repeat bg-cover relative items-center\"\r\n     style=\"background-image: url('https://blog.oxfamintermon.org/wp-content/uploads/2015/03/voluntariado.jpg');\">\r\n    <div class=\"absolute bg-black opacity-60 inset-0 z-0\"></div>\r\n    <div class=\"max-w-md w-full space-y-8 p-10 bg-white rounded-xl z-10\">\r\n        <div class=\"text-center\">\r\n            <img src=\"/assets/MLogo.jpg\" alt=\"Logo\" class=\"mx-auto w-24 h-24\">\r\n        </div>\r\n\r\n        <form class=\"max-w-md mx-auto\">\r\n            <div class=\"relative z-0 w-full mb-5 group\">\r\n                <input type=\"email\" name=\"floating_email\" id=\"floating_email\" class=\"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-500 peer\" placeholder=\" \" required />\r\n                <label for=\"floating_email\" class=\"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-red-500 peer-focus:dark:text-red-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">Email address</label>\r\n            </div>\r\n            <div class=\"relative z-0 w-full mb-8 group\">\r\n                <input type=\"password\" name=\"floating_password\" id=\"floating_password\" class=\"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-500 peer\" placeholder=\" \" required />\r\n                <label for=\"floating_password\" class=\"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-red-500 peer-focus:dark:text-red-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">Password</label>\r\n            </div>\r\n            <div class=\"flex items-center justify-between\">\r\n                <div></div>\r\n                <div class=\"text-sm\">\r\n                    <a href=\"#\" class=\"font-medium text-indigo-500 hover:text-indigo-700\">\r\n                        Forgot your password?\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <button type=\"submit\" class=\"w-full flex justify-center bg-red-600 text-gray-100 p-4 mt-10 rounded-full tracking-wide\r\n                font-semibold focus:outline-none focus:shadow-outline hover:bg-red-500 shadow-lg cursor-pointer transition ease-in duration-300\">\r\n                Login\r\n            </button>\r\n        </form>\r\n        <p class=\"flex flex-col items-center justify-center mt-10 text-center text-md text-gray-500\">\r\n            <span>Don't have an account?</span>\r\n            <a href=\"#\" class=\"text-indigo-500 hover:text-indigo-700 no-underline hover:underline cursor-pointer transition ease-in duration-300\">Register</a>\r\n        </p>\r\n    </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}